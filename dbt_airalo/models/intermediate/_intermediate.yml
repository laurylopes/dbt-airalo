version: 2

models:
  - name: int_gbp_to_usd_rate
    description: |
      Intermediate model that converts GBP exchange rates to USD.
      Used to standardize currencies to USD and GBP. 
      - Type: Intermediate transformation
      - Grain: One row per currency per valid time period
      - Refresh: ephemeral 
    columns:
      - name: currency
        description: '{{(doc("currency"))}}'
        tests:
          - not_null
          - unique
      - name: usd_rate
        description: '{{(doc("usd_rate"))}}'
        tests:
          - not_null
      - name: updated_at
        description: '{{(doc("updated_at"))}}'
        tests:
          - not_null 
      - name: valid_from
        description: '{{(doc("valid_from"))}}'
      - name: valid_to
        description: '{{(doc("valid_to"))}}'